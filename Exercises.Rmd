---
title: "Data wrangling exercises with data.table"
output: 
  html_document:
    toc: TRUE
    df_print: paged
    number_sections: FALSE
    highlight: tango
    theme: lumen
    toc_depth: 3
    toc_float: true
    css: custom.css 
    self_contained: false
    includes:
      after_body: footer.html
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

install.packages("devtools")
devtools::install_github("hadley/emo")
```

## What are we going to work on? `r emo::ji(':eyes:')`

These exercises should give you a general glimpse on the main operations and functionalities of data.table. While the package is known for its speed and efficiency, there are many operations that come with the package that make it also easier to work/compute and code in R.

The following exercises will let you explore basic operations with data.table, computing with data.table operations and advanced coding with data.table.

Don't worry about the last part, you are all in the advanced part by now in R `r emo::ji(':blush:')`

If you have any difficulties catching up with the exercises, you can find in the repo an answer sheet with the answers of each exercise...but try to do this on your own and bring new code to our environment.

Enjoy!

## 1a. Load the data.table package and the nycflights13. Below you will see the assigning codes as the nycflights13 package consists of several datasets. Before running the code, write code that converts each dataset to data.table:
```{r}
library("data.table")
library(nycflights13)

airlines_data <- airlines
flights_data <- flights
planes_data <- planes

```


## 1b. Select rows 40 to 95 from flights_data:


```{r}


```


## 2a. Select all rows from flights_data that have an air time lower than 100, then rename air_time to flight_time by using the chaining operation and return it as a list:


```{r}


```


## 2b. From which origin where the most destination and arrival time of flights in flights_data? Return the answer as data.table (you might want to deal with the na-s from now :))


```{r}


```


## 3a. Add a new column calculating the average air_time for the flights from each origin:


```{r}


```


## 3b. Using the %inbetween% operation, in planes_data check which manifacturer produces planes with a number of seats between 50-100, and then calculate the average of the seats these planes have:


```{r}


```


## 4a. Find how many flights arrived on time / how many flights had the same arrival time as the scheduled one?


```{r}


```



## 4b.Find the most frequent departure time from the carriers in flights_data (careful with na-s!):


```{r}


```


## 4c.Using .SD, find which carrier had the longest airtime at flights_data:


```{r}

```

